#lang at-exp racket/base


(require ming
         ming/number
         http-client
         gregor
         "gua.rkt"
         )





(名 材)

(名 顶量
    (𡊤 􏺗 (佫 (λ (e) (句化米 (􏿰弔 e 'volume))) 60日料)))
(名 底量
    (𡊤 􏺘 (佫 (入 (e) (句化米 (􏿰弔 e 'volume))) 60日料)))


(名 间量
    (􏹓 (/ (- 顶量 底量) 7)))

(名 八卦量序
    (􏿴  (- 顶量 (* 间量 0))
         (- 顶量 (* 间量 1))
         (- 顶量 (* 间量 2))
         (- 顶量 (* 间量 3))
         (- 顶量 (* 间量 4))
         (- 顶量 (* 间量 5))
         (- 顶量 (* 间量 6))
         (- 顶量 (* 间量 7))
        ))

(名 (求量卦 N)
    (弔 八卦 (􏹂 八卦量序  (λ (e) (> e (句化米 N)))))
    )

(名 (攸以量卦 HDATA)
    (􏿰攸 HDATA 'volumn-gua (求量卦 (􏿰弔 HDATA  'volume)))
    )


(名 60日材
    (佫 (λ (e) (摄量卦 e))
        60日材))
